import {MercadoPagoConfig,Preference}from'mercadopago';const mp=new MercadoPagoConfig({accessToken:process.env.MP_ACCESS_TOKEN||'test'});export async function createPreference(plan:string){const price=plan==='pro'?59.9:plan==='max'?129.9:0;const pref=new Preference(mp);return await pref.create({body:{items:[{id:`plan_${plan}`,title:`Plano ${plan.toUpperCase()}`,quantity:1,currency_id:'BRL',unit_price:price}],back_urls:{success:`${process.env.NEXT_PUBLIC_SITE_URL}/sucesso`},auto_return:'approved'}})}